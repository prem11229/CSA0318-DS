#include <stdio.h> 
#define SIZE 100 
int q1[SIZE], q2[SIZE]; 
int front1 = -1, rear1 = -1; 
int front2 = -1, rear2 = -1; 
void enqueue1(int data) { 
if (rear1 == SIZE - 1) 
printf("Queue1 is Full\n"); 
else { 
if (front1 == -1) 
front1 = 0; 
q1[++rear1] = data; 
} 
} 
int dequeue1() { 
if (front1 == -1) 
return -1; 
int data = q1[front1++]; 
if (front1 > rear1) 
front1 = rear1 = -1; 
return data; 
} 
void enqueue2(int data) { 
if (rear2 == SIZE - 1) 
printf("Queue2 is Full\n"); 
else { 
if (front2 == -1) 
front2 = 0; 
q2[++rear2] = data; 
} 
} 
int dequeue2() { 
if (front2 == -1) 
return -1; 
int data = q2[front2++]; 
if (front2 > rear2) 
front2 = rear2 = -1; 
return data; 
} 
void push(int data) { 
enqueue2(data); 
while (front1 != -1) { 
enqueue2(dequeue1()); 
} 
// Swap queues 
int tempF = front1, tempR = rear1; 
front1 = front2; rear1 = rear2; 
front2 = tempF; rear2 = tempR; 
} 
void pop() { 
if (front1 == -1) 
printf("Stack is Empty\n"); 
else { 
printf("Popped Element: %d\n", dequeue1()); 
} 
} 
void display() { 
if (front1 == -1) 
printf("Stack is Empty\n"); 
else { 
printf("Stack Elements: "); 
for (int i = front1; i <= rear1; i++) 
printf("%d ", q1[i]); 
printf("\n"); 
} 
} 
int main() { 
int choice, value; 
while (1) { 
printf("\n1. Push\n2. Pop\n3. Display\n4. Exit\nEnter your choice: "); 
scanf("%d", &choice); 
switch (choice) { 
case 1: 
printf("Enter value to push: "); 
scanf("%d", &value); 
push(value); 
break; 
case 2: 
pop(); 
                break; 
            case 3: 
                display(); 
                break; 
            case 4: 
                return 0; 
            default: 
                printf("Invalid Choice\n"); 
        } 
    } 
}
